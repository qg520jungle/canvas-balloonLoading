<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>干瘪的气球</title>
    <link rel="stylesheet" href="./css/common.css">
    <script src="./js/jquery-1.11.3.js"></script>
  
  
    
</head>

<body>
    <div class="g-head">
        <div class="m-logo">
            <span class="s-logo">canvas 应用——气球爆炸</span>
        </div>
        <div class="m-nav">
            <ul class="f-cb">
                <li><a>以下正文</a></li>
            </ul>
        </div>
    </div>
    <div class="g-body">
      <div class="m-cnt">
        <div class="m-cvs">
          <canvas id="balloon" width="600" height="400"></canvas>
        </div>
      </div>
      <div class="m-audience"></div>
    </div>
    <div class="g-foot"></div>

    <script type="text/javascript">
       var canvas = document.getElementById('balloon');
       var ctx = canvas.getContext('2d');
      function draw_Ball(p,size) {
        //ctx = canvas.getContext("2d")
        ctx.lineWidth = 2;
        ctx.strokeStyle = "#333";
        ctx.beginPath();
        ctx.moveTo(p.x+1, p.y);
        ctx.bezierCurveTo(p.x-1-size.hor, p.y-size.ver, p.x-1+size.hor, p.y-size.ver, p.x-1, p.y);
        ctx.stroke();
        
      }
      function draw_Boom() {
        ctx.lineWidth = 2;
        ctx.strokeStyle = "#333";
        ctx.beginPath();
        ctx.moveTo(164, 133);
        ctx.quadraticCurveTo(216, 136, 216, 64);
         ctx.moveTo( 216, 64);
        ctx.quadraticCurveTo(246, 116, 296, 74);
        ctx.moveTo(296, 74);
        ctx.quadraticCurveTo(276, 136, 332, 135);
        ctx.moveTo(332, 135);
        ctx.quadraticCurveTo(280, 163, 311, 216);
        ctx.moveTo(311, 216);
        ctx.quadraticCurveTo(241, 216, 250, 280);
        ctx.moveTo(250, 280);
        ctx.quadraticCurveTo(236, 199, 190, 211);
        ctx.moveTo(190, 211);
        ctx.quadraticCurveTo(216, 165, 164, 133);
        ctx.stroke();
      }
      function _clear(w,h){
          ctx.clearRect(0,0,w,h) 
      }
      var w = 600;//页面宽度
      var h = 400;//页面高度
      var f = 10 //频率
      var t = parseInt(1000/f) //单位时间
      var times = 20 //执行次数
      var tt = parseInt(t*times) //执行时间
      var p = {
        x:250,
        y:300
      }
      var size = {
         ver:100,
         hor:100
      }
      var step = 3
      var _go = setInterval(function(){
          _clear(w,h)
          size.ver += step;
          size.hor += step;
          draw_Ball(p,size)
          step++
          console.log(step)
      },t);
      var _stop = setTimeout(function(){
        clearInterval(_go)
        clearTimeout(_stop)
        _clear(w,h)
        draw_Boom()
      },tt)
    </script>
</body>

</html>



